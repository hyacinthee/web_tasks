<!doctype html>

<html>

<head>
    <meta charset="utf-8">
    <title>自制轮播图</title>
    <script src="http://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="jQuery.event.swipe.js"></script>
    <!--用来支持移动端触屏滑动-->
    <script src="carousel.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
<h2>基于jQuery的可定制轮播图插件</h2>
<p>~~欢迎使用可定制的轮播图插件~~</p>
<br/>
<h3>简单实例</h3>
<div class="banner" id="banner">

    <ul>

        <li><img class="sliderimg" src="http://ots2ozzjq.bkt.clouddn.com/image/hyacinthee/web_tasks/F2/1.jpg" alt=""
                 width="100%"></li>

        <li><img class="sliderimg" src="http://ots2ozzjq.bkt.clouddn.com/image/hyacinthee/web_tasks/F2/2.jpg" alt=""
                 width="100%"></li>

        <li><img class="sliderimg" src="http://ots2ozzjq.bkt.clouddn.com/image/hyacinthee/web_tasks/F2/3.jpg" alt=""
                 width="100%"></li>

        <li><img class="sliderimg" src="http://ots2ozzjq.bkt.clouddn.com/image/hyacinthee/web_tasks/F2/4.jpg" alt=""
                 width="100%"></li>

        <li><img class="sliderimg" src="http://ots2ozzjq.bkt.clouddn.com/image/hyacinthee/web_tasks/F2/5.jpg" alt=""
                 width="100%"></li>


    </ul>

    <a href="javascript:void(0);" class="carousel-arrow prev"><img class="arrow" id="left"
                                                                   src="http://ots2ozzjq.bkt.clouddn.com/image/hyacinthee/web_tasks/F2/arrowl.png"
                                                                   alt="prev" width="20" height="35"></a>

    <a href="javascript:void(0);" class="carousel-arrow next"><img class="arrow" id="right"
                                                                   src="http://ots2ozzjq.bkt.clouddn.com/image/hyacinthee/web_tasks/F2/arrowr.png"
                                                                   alt="next" width="20" height="37"></a>

    <!--让链接执行一个空的js函数，防止页面跳转-->
</div>
<div class="text">
    <h3>插件说明</h3>
    本插件参考Bootstrap的carousel等诸多轮播图样式，基于jQuery库实现，包含功能如下：
    <br/>
    1、支持自动播放/响应式布局/图片跳转/键盘操控/图片前后移动/触屏滑动等功能，当鼠标位于图片上方时停止自动播放
    <br/>
    2、具有可定制性，插件提供参数，允许用户对轮播图的相关属性进行设置，主要包括设置图片切换速度、图片停留时间，开启或关闭键盘控制、指示器显示和响应式布局
    <br/>
    3、具有健壮性，使用对象级别的插件开发，为插件定义私有作用域，防止外部代码访问插件内部以及插件污染全局变量，保证了插件的有效运行
    <br/>
    4、采用预编译语言Less书写样式，通过编译生成css文件
</div>
<div class="more">
    <h3>更多内容</h3>
    <p>更多内容请访问我的github：</p>
    <p>https://github.com/hyacinthee/</p>
</div>

<script>

    //imgReload()方法用于在窗口大小改变时记录当前窗口宽高并对li标签进行设置
    function imgReload() {

        var imgHeight = 0;

        var imgWidth = $("body").width();

        $("#banner ul li").each(function () {

            $(this).css({width: imgWidth + "px"});

        });

        $(".sliderimg").each(function () {

            $(this).css({width: imgWidth + "px"});

            imgHeight = $(this).height();

        });

    }


    //resize()用于识别窗口大小是否发生改变
    $(window).resize(function () {
        imgReload();
    });


    $(document).ready(function (e) {

        imgReload();

        var mycarousel = $('#banner').carousel({

                dots: true,

                fluid: true

            }),//调用carousel，并传入参数表示允许显示指示器和响应式布局

            //调用data()方法返回carousel对象
            mydata = mycarousel.data('carousel');


        //根据相应的类名决定前进还是后退
        $('.carousel-arrow').click(function () {

            var fn = this.className.split(' ')[1];

            mydata[fn]();

        });

    });

</script>
</body>
</html>
